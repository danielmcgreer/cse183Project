[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>

<div class="section">
    
<div class="is-size-1" style="display: flex; justify-content: center;">UCSC CourseRater</div>

<div class="section" id="vue-target" v-cloak>
  <div class="control block" style="display: flex;">
    <i class="fa fa-search icon is-medium" style="margin-top: 10px;" aria-hidden="true"></i>
    <input placeholder="search for a class using keywords..." class="input" type="text" v-model="query" @keyup="search" />
  </div>

<span v-for="r in results">
     <a v-bind:href="r.link_display_course">{{r.department}} {{r.class_number}} {{r.class_name}}</a>
	 <br>
	</span>
</div>

  <h2 class="title" style="display: flex; justify-content: center;">Browse Reviews</h2>
    
  <!--
  <a class="button is-success" href="[[=URL('add_review')]]">
    <span class="icon"><i class="fa fa-plus"></i></span>
    <span>Add A Review!</span>
  </a>
  -->
  
  <a class="button is-success" href="[[=URL('search_course')]]">
    <span>Search Course by ID</span>
  </a>
  
  <br>

  <div class="container">
    <table class="table is-striped is-fullwidth">
      <tr>
        <th>Department</th>
        <th>Number</th>
        <th>Class Name</th>
        <th>Teacher</th>
        <th>Rating</th>
        <th>Review</th>
        <th></th>
        <th></th>
      </tr>
      [[for review in reviews:]]
      <tr>
        <td>[[=review.courses.department]]</td>
        <td>[[=review.courses.class_number]]</td>
        <td>[[=review.courses.class_name]]</td>
        <td>[[=review.reviews.teacher]]</td>
        <td>[[=review.reviews.rating]]/5</td>
        <td>[[=review.reviews.review]]</td>

      </tr>
      [[pass]]
    </table>
  </div>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let search_url = "[[=XML(search_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
